DEBUG = yes
CC = gcc
LIBPATH = ../lib/
LIB = -lthread -lpthread
EXEC = creationAttente chgContext destruction

ifeq ($(DEBUG),yes)
	CFLAGS=-W -Wall -g
	LDFLAGS=
else
	CFLAGS=-W -Wall
	LDFLAGS=
endif

all: $(EXEC)

ifeq ($(DEBUG),yes)
	@echo "Génération en mode debug"
else
	@echo "Génération en mode release"
endif

creationAttente: creationAttente.c
	@$(CC) -o $@ $^ $(LIBPATH) $(LIB) $(CFLAGS)

chgContext: chgContext.c
	@$(CC) -o $@ $^ $(LIBPATH) $(LIB) $(CFLAGS)

destruction: destruction.c
	@$(CC) -o $@ $^ $(LIBPATH) $(LIB) $(CFLAGS)

.PHONY: clean

clean:
	@rm *.o *~ *#