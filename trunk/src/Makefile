CC      = gcc
CFLAGS  =
LDFLAGS =

PROG  = ../bin/Threads

TEST = ../bin/Tests

OBJS  = threadStructure.o fifoThread.o thread.o prog2_ex.o

all: $(PROG)

all : $(TEST)

threadStructure.o : threadStructure.c prog2_ex.c threadStructure.h
		  gcc -c threadStructure.c prog2_ex.c

fifoThread.o : fifoThread.c fifoThread.h threadStructure.h
	gcc -c fifoThread.c

thread.o : thread.c thread.h fifoThread.h threadStructure.h
	gcc -c thread.c

$(PROG): $(OBJS)
	$(CC) $(CFLAGS) $(LDFLAGS) $(OBJS) -o $(PROG)

$(TEST): $(OBJS)
	$(CC) $(CFLAGS) $(LDFLAGS) $(OBJS) -o $(TEST)

clean :
	\rm -f $(PROG) *.o *~

run :
	../bin/Threads

check : 
	../bin/Tests

